[gd_scene load_steps=25 format=4 uid="uid://clnwo4h5ujm7m"]

[ext_resource type="Script" path="res://src/levels/level.gd" id="1_0gqkm"]
[ext_resource type="Script" path="res://src/components/grid/grid.gd" id="2_6ilsx"]
[ext_resource type="TileSet" uid="uid://b04wawqaey6dc" path="res://src/levels/forest/forest_tileset.tres" id="3_x07cb"]
[ext_resource type="Texture2D" uid="uid://dn7i3g6migfca" path="res://assets/etc/gridline-tile.png" id="4_smrkl"]
[ext_resource type="TileSet" uid="uid://fahxwg8eoo7q" path="res://src/components/grid/highlight_tileset.tres" id="5_us3i8"]
[ext_resource type="TileSet" uid="uid://b5rlgbfbfljvl" path="res://src/components/grid/cursor_tileset.tres" id="6_ojiua"]
[ext_resource type="Texture2D" uid="uid://b5ywm1ou2h5tt" path="res://assets/tiles/village/iso_tile_export-sheet2.png" id="7_0u7vp"]
[ext_resource type="Texture2D" uid="uid://cq6mqrvfoschd" path="res://assets/tiles/village/iso_tile_export.png" id="8_jbqnq"]
[ext_resource type="Texture2D" uid="uid://b7al7k2qqnjpk" path="res://assets/tiles/black_tile.png" id="9_11udh"]
[ext_resource type="Texture2D" uid="uid://dlnxf7e1kj7nl" path="res://assets/tiles/village/barrel.png" id="10_d2cdv"]
[ext_resource type="Texture2D" uid="uid://bytsc1qgs7whd" path="res://assets/tiles/village/props/hedge.png" id="11_wt346"]
[ext_resource type="Texture2D" uid="uid://b42kr4l32glin" path="res://assets/tiles/village/props/street_lamp.png" id="12_3jnrt"]
[ext_resource type="Texture2D" uid="uid://tftvtkxipog8" path="res://assets/bgs/black.png" id="13_8t2sd"]
[ext_resource type="Texture2D" uid="uid://c045pp86mh33s" path="res://assets/etc/shadow.png" id="14_pqfpf"]
[ext_resource type="Texture2D" uid="uid://chihmnl6y46ny" path="res://assets/etc/light.png" id="15_j5g4g"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_7tt8x"]
texture = ExtResource("4_smrkl")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, -8)
0:0/0/modulate = Color(0, 0, 0, 0.290196)

[sub_resource type="TileSet" id="TileSet_ibhob"]
tile_shape = 1
tile_layout = 5
tile_offset_axis = 1
tile_size = Vector2i(32, 16)
sources/0 = SubResource("TileSetAtlasSource_7tt8x")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wl2pk"]
texture = ExtResource("7_0u7vp")
texture_region_size = Vector2i(32, 32)
11:3/0 = 0
11:3/0/texture_origin = Vector2i(0, -8)
12:3/0 = 0
12:3/0/texture_origin = Vector2i(0, -8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ts81a"]
texture = ExtResource("8_jbqnq")
texture_region_size = Vector2i(32, 32)
4:3/next_alternative_id = 3
4:3/0 = 0
4:3/0/texture_origin = Vector2i(0, 8)
5:3/0 = 0
5:3/0/texture_origin = Vector2i(0, 8)
6:3/0 = 0
6:3/0/texture_origin = Vector2i(0, 8)
7:3/0 = 0
7:3/0/texture_origin = Vector2i(0, 8)
7:5/0 = 0
7:5/0/texture_origin = Vector2i(0, 8)
5:5/0 = 0
5:5/0/texture_origin = Vector2i(0, 8)
4:5/0 = 0
4:5/0/texture_origin = Vector2i(0, 8)
6:5/0 = 0
6:5/0/texture_origin = Vector2i(0, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ijiuh"]
texture = ExtResource("9_11udh")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_5pbad"]
texture = ExtResource("10_d2cdv")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_c1osj"]
texture = ExtResource("11_wt346")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 7)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_o8lhx"]
texture = ExtResource("12_3jnrt")
texture_region_size = Vector2i(32, 64)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 26)

[sub_resource type="TileSet" id="TileSet_jgmbd"]
tile_shape = 1
tile_layout = 5
tile_offset_axis = 1
tile_size = Vector2i(32, 16)
sources/1 = SubResource("TileSetAtlasSource_ts81a")
sources/2 = SubResource("TileSetAtlasSource_ijiuh")
sources/3 = SubResource("TileSetAtlasSource_5pbad")
sources/0 = SubResource("TileSetAtlasSource_wl2pk")
sources/4 = SubResource("TileSetAtlasSource_c1osj")
sources/5 = SubResource("TileSetAtlasSource_o8lhx")

[node name="Forest" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -38.0
offset_top = -10.0
offset_right = -38.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_0gqkm")
orientation = 1

[node name="Grid" type="Node2D" parent="."]
position = Vector2(-48, 28)
script = ExtResource("2_6ilsx")

[node name="TileMapLayer" type="TileMapLayer" parent="Grid"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAEAAAABQABAAEAAAAEAP//BQABAAEAAAAEAP7/BQABAAEAAAAEAP3/BQABAAEAAAAEAPz/BQABAAEAAAAEAPv/BQABAAEAAAADAPv/BQABAAEAAAACAPv/BQABAAEAAAABAPv/BQABAAEAAAAAAPv/BQABAAEAAAD///v/BQABAAEAAAD+//v/BQABAAEAAAD9//v/BQABAAEAAAD8//v/BQABAAEAAAD7//v/BQABAAEAAAD6//v/BQABAAEAAAD5//v/BQABAAEAAAD4//v/BQABAAEAAAD4//z/BQABAAEAAAD4//3/BQABAAEAAAD4//7/BQABAAEAAAD4////BQABAAEAAAD4/wAABQABAAEAAAD4/wEABQABAAEAAAD4/wIABQABAAEAAAD4/wMABQABAAEAAAD4/wQABQABAAEAAAD4/wUABQABAAEAAAD5/wUABQABAAEAAAD5/wQABQABAAEAAAD5/wMABQABAAEAAAD5/wIABQABAAEAAAD5/wEABQABAAEAAAD5/wAABQABAAEAAAD5////BQABAAEAAAD5//7/BQABAAEAAAD5//3/BQABAAEAAAD5//z/BQABAAEAAAD6//z/BQABAAEAAAD6//3/BQABAAEAAAD6//7/BQABAAEAAAD6////BQABAAEAAAD6/wAABQABAAEAAAD6/wEABQABAAEAAAD6/wIABQABAAEAAAD6/wMABQABAAEAAAD6/wQABQABAAEAAAD6/wUABQABAAEAAAD7/wUABQABAAEAAAD7/wQABQABAAEAAAD7/wMABQABAAEAAAD7/wIABQABAAEAAAD7/wEABQABAAEAAAD7/wAABQABAAEAAAD7////BQABAAEAAAD7//7/BQABAAEAAAD7//3/BQABAAEAAAD7//z/BQABAAEAAAD8//z/BQABAAEAAAD8//3/BQABAAEAAAD8//7/BQABAAEAAAD8////BQABAAEAAAD8/wAABQABAAEAAAD8/wEABQABAAEAAAD8/wIABQABAAEAAAD8/wMABQABAAEAAAD8/wQABQABAAEAAAD8/wUABQABAAEAAAD9/wUABQABAAEAAAD9/wQABQABAAEAAAD9/wMABQABAAEAAAD9/wIABQABAAEAAAD9/wEABQABAAEAAAD9/wAABQABAAEAAAD9////BQABAAEAAAD9//7/BQABAAEAAAD9//3/BQABAAEAAAD9//z/BQABAAEAAAD+//z/BQABAAEAAAD+//3/BQABAAEAAAD+//7/BQABAAEAAAD+////BQABAAEAAAD+/wAABQABAAEAAAD+/wEABQABAAEAAAD+/wIABQABAAEAAAD+/wMABQABAAEAAAD+/wQABQABAAEAAAD+/wUABQABAAEAAAD//wUABQABAAEAAAD//wQABQABAAEAAAD//wMABQABAAEAAAD//wIABQABAAEAAAD//wEABQABAAEAAAD//wAABQABAAEAAAD/////BQABAAEAAAD///7/BQABAAEAAAD///3/BQABAAEAAAD///z/BQABAAEAAAAAAPz/BQABAAEAAAAAAP3/BQABAAEAAAAAAP7/BQABAAEAAAAAAP//BQABAAEAAAAAAAAABQABAAEAAAAAAAEABQABAAEAAAAAAAIABQABAAEAAAAAAAMABQABAAEAAAAAAAQABQABAAEAAAAAAAUABQABAAEAAAABAAUABQABAAEAAAABAAQABQABAAEAAAABAAMABQABAAEAAAABAAIABQABAAEAAAABAAEABQABAAEAAAABAAAABQABAAEAAAABAP//BQABAAEAAAABAP7/BQABAAEAAAABAP3/BQABAAEAAAABAPz/BQABAAEAAAACAPz/BQABAAEAAAACAP3/BQABAAEAAAACAP7/BQABAAEAAAACAP//BQABAAEAAAACAAAABQABAAEAAAACAAEABQABAAEAAAACAAIABQABAAEAAAACAAMABQABAAEAAAACAAQABQABAAEAAAACAAUABQABAAEAAAADAAUABQABAAEAAAADAAQABQABAAEAAAADAAMABQABAAEAAAADAAIABQABAAEAAAADAAEABQABAAEAAAADAAAABQABAAEAAAADAP//BQABAAEAAAADAP7/BQABAAEAAAADAP3/BQABAAEAAAADAPz/BQABAAEAAAAEAAEABQABAAEAAAAEAAIABQABAAEAAAAEAAMABQABAAEAAAAEAAQABQABAAEAAAAEAAUABQABAAEAAAAFAAUABQABAAEAAAAFAAQABQABAAEAAAAFAAMABQABAAEAAAAFAAIABQABAAEAAAAFAAEABQABAAEAAAAFAAAABQABAAEAAAAFAP//BQABAAEAAAAFAP7/BQABAAEAAAAFAP3/BQABAAEAAAAFAPz/BQABAAEAAAAFAPv/BQABAAEAAAAGAPv/BQABAAEAAAAGAPz/BQABAAEAAAAGAP3/BQABAAEAAAAGAP7/BQABAAEAAAAGAP//BQABAAEAAAAGAAAABQABAAEAAAAGAAEABQABAAEAAAAGAAIABQABAAEAAAAGAAMABQABAAEAAAAGAAQABQABAAEAAAAGAAUABQABAAEAAAAHAAUABQABAAEAAAAHAAQABQABAAEAAAAHAAMABQABAAEAAAAHAAIABQABAAEAAAAHAAEABQABAAEAAAAHAAAABQABAAEAAAAHAP//BQABAAEAAAAHAP7/BQABAAEAAAAHAP3/BQABAAEAAAAHAPz/BQABAAEAAAAHAPv/BQABAAEAAAAIAPv/BQABAAEAAAAIAPz/BQABAAEAAAAIAP3/BQABAAEAAAAIAP7/BQABAAEAAAAIAP//BQABAAEAAAAIAAAABQABAAEAAAAIAAEABQABAAEAAAAIAAIABQABAAEAAAAIAAMABQABAAEAAAAIAAQABQABAAEAAAAIAAUABQABAAEAAAAJAAUABQABAAEAAAAJAAQABQABAAEAAAAJAAMABQABAAEAAAAJAAIABQABAAEAAAAJAAEABQABAAEAAAAJAAAABQABAAEAAAAJAP//BQABAAEAAAAJAP7/BQABAAEAAAAJAP3/BQABAAEAAAAJAPz/BQABAAEAAAAJAPv/BQABAAEAAAAKAPv/BQABAAEAAAAKAPz/BQABAAEAAAAKAP3/BQABAAEAAAAKAP7/BQABAAEAAAAKAP//BQABAAEAAAAKAAAABQABAAEAAAAKAAEABQABAAEAAAAKAAIABQABAAEAAAAKAAMABQABAAEAAAAKAAQABQABAAEAAAAKAAUABQABAAEAAAALAAUABQABAAEAAAALAAQABQABAAEAAAALAAMABQABAAEAAAALAAIABQABAAEAAAALAAEABQABAAEAAAALAAAABQABAAEAAAALAP//BQABAAEAAAALAP7/BQABAAEAAAALAP3/BQABAAEAAAALAPz/BQABAAEAAAALAPv/BQABAAEAAAA=")
tile_set = ExtResource("3_x07cb")

[node name="GridLineLayer" type="TileMapLayer" parent="Grid"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAADAAQAAAAAAAAAAAACAAQAAAAAAAAAAAACAAMAAAAAAAAAAAADAAMAAAAAAAAAAAABAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAABAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAD//wQAAAAAAAAAAAD//wMAAAAAAAAAAAD+/wMAAAAAAAAAAAD9/wMAAAAAAAAAAAD8/wQAAAAAAAAAAAD8/wMAAAAAAAAAAAD8/wIAAAAAAAAAAAD8/wEAAAAAAAAAAAD8/wAAAAAAAAAAAAD8////AAAAAAAAAAD8//7/AAAAAAAAAAD8//3/AAAAAAAAAAD9//3/AAAAAAAAAAD+//3/AAAAAAAAAAD///3/AAAAAAAAAAAAAP3/AAAAAAAAAAABAP3/AAAAAAAAAAACAP3/AAAAAAAAAAADAP3/AAAAAAAAAAADAP7/AAAAAAAAAAADAP//AAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAD+/wQAAAAAAAAAAAD9/wQAAAAAAAAAAAD9/wIAAAAAAAAAAAD9/wEAAAAAAAAAAAD9/wAAAAAAAAAAAAD9////AAAAAAAAAAD9//7/AAAAAAAAAAD+//7/AAAAAAAAAAD///7/AAAAAAAAAAAAAP7/AAAAAAAAAAABAP7/AAAAAAAAAAACAP7/AAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAABAAIAAAAAAAAAAAAAAAIAAAAAAAAAAAD//wIAAAAAAAAAAAD+/wIAAAAAAAAAAAD+/wEAAAAAAAAAAAD+/wAAAAAAAAAAAAD+////AAAAAAAAAAD/////AAAAAAAAAAAAAP//AAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAD//wAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+/wUAAAAAAAAAAAD9/wUAAAAAAAAAAAD8/wUAAAAAAAAAAAD//wUAAAAAAAAAAAAAAAUAAAAAAAAAAAABAAUAAAAAAAAAAAACAAUAAAAAAAAAAAADAAUAAAAAAAAAAAAEAAUAAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAP//AAAAAAAAAAAFAP7/AAAAAAAAAAAFAP3/AAAAAAAAAAAFAPz/AAAAAAAAAAAFAPv/AAAAAAAAAAAEAPv/AAAAAAAAAAADAPv/AAAAAAAAAAACAPv/AAAAAAAAAAABAPv/AAAAAAAAAAAAAPv/AAAAAAAAAAD///v/AAAAAAAAAAD+//v/AAAAAAAAAAD9//v/AAAAAAAAAAD8//v/AAAAAAAAAAD8//z/AAAAAAAAAAD9//z/AAAAAAAAAAD+//z/AAAAAAAAAAD///z/AAAAAAAAAAAAAPz/AAAAAAAAAAABAPz/AAAAAAAAAAACAPz/AAAAAAAAAAADAPz/AAAAAAAAAAAEAPz/AAAAAAAAAAAEAP3/AAAAAAAAAAAEAP7/AAAAAAAAAAAEAP//AAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAAAAAAAAAAAAAAGAPz/AAAAAAAAAAAGAPv/AAAAAAAAAAAHAPv/AAAAAAAAAAAIAPv/AAAAAAAAAAAJAPv/AAAAAAAAAAAKAPv/AAAAAAAAAAALAPv/AAAAAAAAAAALAPz/AAAAAAAAAAALAP3/AAAAAAAAAAALAP7/AAAAAAAAAAALAP//AAAAAAAAAAALAAAAAAAAAAAAAAALAAEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAALAAQAAAAAAAAAAAALAAUAAAAAAAAAAAAKAAUAAAAAAAAAAAAJAAUAAAAAAAAAAAAIAAUAAAAAAAAAAAAHAAUAAAAAAAAAAAD7/wUAAAAAAAAAAAD6/wUAAAAAAAAAAAD5/wUAAAAAAAAAAAD4/wUAAAAAAAAAAAD4/wQAAAAAAAAAAAD4/wMAAAAAAAAAAAD4/wIAAAAAAAAAAAD4/wEAAAAAAAAAAAD4/wAAAAAAAAAAAAD4////AAAAAAAAAAD4//7/AAAAAAAAAAD4//3/AAAAAAAAAAD4//z/AAAAAAAAAAD4//v/AAAAAAAAAAD5//v/AAAAAAAAAAD6//v/AAAAAAAAAAD7//v/AAAAAAAAAAD6////AAAAAAAAAAD6//7/AAAAAAAAAAD6//3/AAAAAAAAAAD6//z/AAAAAAAAAAD5//z/AAAAAAAAAAD5//3/AAAAAAAAAAD5//7/AAAAAAAAAAD5////AAAAAAAAAAD5/wAAAAAAAAAAAAD5/wEAAAAAAAAAAAD5/wIAAAAAAAAAAAD5/wMAAAAAAAAAAAD5/wQAAAAAAAAAAAD6/wQAAAAAAAAAAAD6/wMAAAAAAAAAAAD6/wIAAAAAAAAAAAD6/wEAAAAAAAAAAAD6/wAAAAAAAAAAAAD7/wAAAAAAAAAAAAD7////AAAAAAAAAAD7//7/AAAAAAAAAAD7//3/AAAAAAAAAAD7//z/AAAAAAAAAAD7/wEAAAAAAAAAAAD7/wIAAAAAAAAAAAD7/wMAAAAAAAAAAAD7/wQAAAAAAAAAAAAJAP7/AAAAAAAAAAAJAP3/AAAAAAAAAAAJAPz/AAAAAAAAAAAIAPz/AAAAAAAAAAAHAPz/AAAAAAAAAAAHAP3/AAAAAAAAAAAGAP3/AAAAAAAAAAAGAP7/AAAAAAAAAAAGAP//AAAAAAAAAAAHAP//AAAAAAAAAAAHAP7/AAAAAAAAAAAIAP7/AAAAAAAAAAAIAP3/AAAAAAAAAAAIAP//AAAAAAAAAAAIAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAEAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAAAAAAAAAAAAAAJAP//AAAAAAAAAAAKAP//AAAAAAAAAAAKAP7/AAAAAAAAAAAKAP3/AAAAAAAAAAAKAPz/AAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAKAAQAAAAAAAAAAAAKAAMAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_ibhob")

[node name="ThreatHighlightLayer" type="TileMapLayer" parent="Grid"]
y_sort_enabled = true
tile_set = ExtResource("5_us3i8")

[node name="AbilityHighlightLayer" type="TileMapLayer" parent="Grid"]
y_sort_enabled = true
tile_set = ExtResource("5_us3i8")

[node name="CursorLayer" type="TileMapLayer" parent="Grid"]
y_sort_enabled = true
tile_set = ExtResource("6_ojiua")

[node name="DebugHighlightLayer" type="TileMapLayer" parent="Grid"]
y_sort_enabled = true
tile_set = ExtResource("5_us3i8")

[node name="PropLayer" type="TileMapLayer" parent="Grid"]
y_sort_enabled = true
tile_set = SubResource("TileSet_jgmbd")

[node name="WorldBg" type="Sprite2D" parent="."]
modulate = Color(0.172833, 0.172833, 0.172833, 1)
z_index = -99
position = Vector2(38, -18)
scale = Vector2(2.80143, 2.80143)
texture = ExtResource("13_8t2sd")

[node name="PointLight2D2" type="PointLight2D" parent="."]
visible = false
position = Vector2(24.5, 17.5)
scale = Vector2(1.62979, 0.812766)
color = Color(0.133196, 0.133196, 0.133196, 1)
blend_mode = 2
texture = ExtResource("14_pqfpf")

[node name="PointLight2D5" type="PointLight2D" parent="."]
visible = false
position = Vector2(158, 70)
color = Color(1, 0.783333, 0.48, 1)
energy = 1.31
shadow_enabled = true
texture = ExtResource("15_j5g4g")
texture_scale = 0.2
